/*-- scss:defaults --*/

//
// Color system - Updated to match Dash theme
//

$white:    #fff !default;
$gray-100: #f8f9fa !default;
$gray-200: #ecf0f1 !default;
$gray-300: #dee2e6 !default;
$gray-400: #ced4da !default;
$gray-500: #b4bcc2 !default;
$gray-600: #6c757d !default;
$gray-700: #495057 !default;
$gray-800: #343a40 !default;
$gray-900: #212529 !default;
$black:    #000 !default;

// Updated primary colors to match Dash theme
$blue:    #00588D !default;
$indigo:  #6610f2 !default;
$purple:  #6f42c1 !default;
$pink:    #e83e8c !default;
$red:     #e74c3c !default;
$orange:  #fd7e14 !default;
$yellow:  #f39c12 !default;
$green:   #18bc9c !default;
$teal:    #20c997 !default;
$cyan:    #3498db !default;

$primary:       $blue !default;
$secondary:     $gray-600 !default;
$success:       $green !default;
$info:          $cyan !default;
$warning:       $yellow !default;
$danger:        $red !default;
$light:         $gray-200 !default;
$dark:          $gray-700 !default;

$min-contrast-ratio:   2.05 !default;

// Links - MUST be in defaults section
$link-color:                $gray-700 !default;
$link-hover-color:          $primary !default;
$link-decoration:           none !default;

// Fonts - MUST be in defaults section
$font-family-sans-serif: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif !default;
$h1-font-size:                2.5rem !default;
$h2-font-size:                2rem !default;
$h3-font-size:                1.5rem !default;

// Tables
$table-bg-scale:              0% !default;

// Dropdowns
$dropdown-bg:                     $white !default;
$dropdown-link-color:             $gray-700 !default;
$dropdown-link-hover-color:       $white !default;
$dropdown-link-hover-bg:          $primary !default;
$dropdown-border-radius:          0.75rem !default;

// Navs
$nav-link-padding-y:                0.5rem !default;
$nav-link-padding-x:                1rem !default;
$nav-link-color:                    $gray-700 !default;
$nav-link-hover-color:              $white !default;
$nav-link-disabled-color:           $gray-600 !default;
$nav-tabs-border-color:             #e9ecef !default;

// Navbar
$navbar-padding-y:                  0.5rem !default;
$navbar-light-bg:                   transparent !default;
$navbar-light-color:                $gray-700 !default;
$navbar-light-hover-color:          $primary !default;
$navbar-light-active-color:         $primary !default;
$navbar-light-brand-color:          $gray-700 !default;
$navbar-light-brand-hover-color:    $primary !default;

// Buttons
$btn-border-radius:               0.9375rem !default; 
$btn-border-radius-sm:            0.75rem !default;  
$btn-border-radius-lg:            1.25rem !default;  

// Cards
$card-border-radius:              75rem !default;
$card-box-shadow:                 0 2px 4px rgba(0,0,0,0.1) !default;


/*-- scss:rules --*/

html {
  scroll-padding-top: 100px;
}

main {
  margin-top: 0 !important;
  width: fit-content !important;
}

// Import Inter font
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

// Font overrides
:root {
  --bs-font-sans-serif: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif !important;
}

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
  font-size: 1rem;
  line-height: 1.6;
  color: #333;
  margin: 0 !important;
  padding: 0 !important;
}

// Content container
.quarto-container {
  max-width: none !important;
  width: 100% !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
}

// Override Bootstrap container
.container-fluid {
  max-width: none !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
}

a {
  color: #00588D !important;          
  text-decoration: underline !important; 
  
  &:hover, &:focus {
    color: #495057 !important; 
    text-decoration: none !important; 
  }
  
  &:visited {
    color: #00588D !important; 
    text-decoration: underline !important;
  }
  
  &:active {
    color: #495057 !important; 
    text-decoration: none !important;
  }
}

// TOC styling 

// Move TOC further left
@media (min-width: 992px) {
  .sidebar {
    left: 5px !important;
    top: 20px !important;
    padding-top: 20px !important;
  }
  
  // Increase gap between sidebar and main content
  body.floating .page-columns {
    gap: 40px !important;  // Increase from default 20px
  }
}

.sidebar nav[role=doc-toc] ul > li > a.active,
.sidebar nav[role=doc-toc] ul > li > ul > li > a.active {
    border-left: 2px solid #00bf63 !important;
    color: #333 !important;
    font-weight: 600 !important;
    background-color: transparent !important;
}

// Your existing link styling (keep this)
a {
  color: #00588D !important;
  text-decoration: underline !important;
  
  &:hover, &:focus {
    color: #495057 !important;
    text-decoration: none !important;
  }
}

// // Override Quarto's default TOC active styling with higher specificity
// .sidebar nav[role=doc-toc] ul > li > a.active,
// .sidebar nav[role=doc-toc] ul > li > ul > li > a.active {
//     border-left: 2px solid #00bf63 !important;  // Your green color
//     color: #333 !important;  // Body text color, not gray
//     font-weight: 600 !important;
//     background-color: transparent !important;  // No background
// }

// // Also override the general TOC styling
// #TOC .sidebar nav[role=doc-toc] ul > li > a.active {
//     border-left: 2px solid #00bf63 !important;
//     color: #333 !important;
//     font-weight: 600 !important;
// }

// // Even more specific override
// .sidebar nav[role="doc-toc"] ul li a.active {
//     border-left: 2px solid #00bf63 !important;
//     color: #333 !important;
//     font-weight: 600 !important;
//     background-color: transparent !important;
// }

// // Target all possible TOC active states
// nav[role="doc-toc"] a.active,
// nav[role="doc-toc"] .active,
// .sidebar a.active,
// #TOC a.active {
//     border-left: 2px solid #00bf63 !important;
//     color: #333 !important;
//     font-weight: 600 !important;
//     background-color: transparent !important;
// }

#TOC {
  a {
    color: #333 !important;
    text-decoration: none !important;
    font-size: 0.9rem;
    padding: 4px 8px;
    border-left: 2px solid transparent;
    display: block;
    
    &:hover, &:focus {
      color: #00588D !important; 
      text-decoration: none !important;
      background-color: #f8f9fa;
    }
    
    &:visited {
      color: #333 !important; 
      text-decoration: none !important;
    }
    
    // Active section - just green border, no background
    &.active {
      border-left-color: #00bf63 !important;
      font-weight: 600;
    }
  }
}

// // For nested TOC items - just green border
// #TOC .nav > li > a.active,
// #TOC .nav > li.active > a {
//   border-left: 2px solid #00bf63 !important;
//   font-weight: 600 !important;
//   // Remove background-color line
// }

// #TOC ul li {
//   a {
//     border-left: 2px solid transparent;
    
//     &.active {
//       border-left-color: #00bf63 !important;
//       font-weight: 600;
//       // Remove background-color line
//     }
//   }
// }

// // .toc-left {
// //   margin-left: 200px !important;
// // }

// Make main content area wider
main.content {
  max-width: none !important; 
  width: fit-content !important;  // Use available space
}

// Override Bootstrap link utilities
.text-success, .link-success, .link-primary {
  color: #00588D !important;  
  text-decoration: underline !important;
  
  &:hover, &:focus {
    color: #495057 !important; 
    text-decoration: none !important;
  }
}

// Override specific content area links
.content a,
main a,
article a,
section a,
div a {
  color: #00588D !important;  
  text-decoration: underline !important;
  
  &:hover, &:focus {
    color: #495057 !important; 
    text-decoration: none !important;
  }
  
  &:visited {
    color: #00588D !important; 
    text-decoration: underline !important;
  }
}

// Override any remaining theme link colors
.link-primary {
  color: #00588D !important;  
  text-decoration: underline !important;
  
  &:hover, &:focus {
    color: #495057 !important; 
    text-decoration: none !important;
  }
}

// Custom navigation styles to match your bookmark bar
.navbar {
  background-color: transparent !important;
  border-bottom: 1px solid #e9ecef;
  
  .nav-link {
    color: $gray-700 !important;
    font-weight: 500;
    padding: 8px 1rem;
    border-radius: 0.75rem;
    border: 1px solid #e9ecef;
    margin: 0 3px;
    background-color: $gray-100;
    transition: all 0.2s ease;
    
    &:hover {
      background-color: $primary !important;
      color: $white !important;
      transform: translateY(-1px);
      box-shadow: 0 2px 8px rgba(0, 88, 141, 0.2);
    }
  }
}

// Card styles to match your content tiles
.card {
  border-radius: 0.75rem;
  border: 1px solid #e9ecef;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
  transition: all 0.2s ease;
  
  &:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 0.75rem rgba(0,0,0,0.1);
  }
}

// Button styles to match your bookmark buttons
.btn {
  border-radius: 0.9375rem;
  font-weight: 500;
  transition: all 0.2s ease;
  
  &.btn-primary {
    background-color: $primary;
    border-color: $primary;
    
    &:hover {
      background-color: darken($primary, 10%);
      border-color: darken($primary, 10%);
      transform: translateY(-1px);
    }
  }
}

// Dropdown styles to match your navigation
.dropdown-menu {
  border-radius: 0.75rem;
  border: 1px solid #e9ecef;
  box-shadow: 0 4px 0.75rem rgba(0,0,0,0.1);
  
  .dropdown-item {
    color: $gray-700;
    font-weight: 500;
    
    &:hover {
      background-color: $primary;
      color: $white;
    }
  }
}

// Table styles
.table {
  font-family: 'Inter', sans-serif;
  
  th {
    font-weight: 600;
    color: $gray-700;
    border-bottom: 2px solid #e9ecef;
  }
}

// Alert styles
.alert {
  border-radius: 0.75rem;
  border: none;
  font-weight: 500;
}

// Custom utility classes
.hover-shadow {
  transition: all 0.2s ease;
  
  &:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 0.75rem rgba(0,0,0,0.1);
  }
}

.bookmark-btn {
  background-color: rgba(0, 88, 141, 0.9) !important;
  color: white !important;
  border-radius: 0.9375rem;
  padding: 5px 1.25rem;
  font-size: 0.85rem;
  font-weight: 500;
  border: 1px solid #6c757d;
  text-decoration: none;
  transition: all 0.2s ease;
  
  &:hover {
    background-color: $primary !important;
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(0, 88, 141, 0.3);
  }
}